<!doctype html><html lang=ru><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>EduTest: проектирование и архитектура проекта | Ghost Basenji</title><meta name=description content="Записки начинающего программиста"><meta property="og:type" content="article"><meta property="og:title" content="EduTest: проектирование и архитектура проекта"><meta property="og:description" content="Записки начинающего программиста"><meta property="og:url" content="https://ghostbasenji.github.io/post/edutest-theory/"><meta property="og:site_name" content="Ghost Basenji"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="EduTest: проектирование и архитектура проекта"><meta name=twitter:description content="Записки начинающего программиста"><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/monokailight.css><link rel=stylesheet href=/fontawesome/css/all.min.css><link rel=stylesheet href=/css/404.css><link rel=icon href=/images/favicon.ico type=image/x-icon><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body><style>:root{--content-width:1000px;--sidebar-width:340px;--sidebar-padding:32px;--logo-size:120px}</style><div class=layout><main class=content><article class=post-single><header class=post-header><h1 class=post-title>EduTest: проектирование и архитектура проекта</h1><div class=post-meta>01 Dec 2025</div></header><div class=post-content><p>В этой статье мы подробно рассмотрим <strong>архитектуру проекта</strong>, <strong>структуру базы данных</strong>, <strong>организацию Blazor-проекта</strong> и <strong>подход к работе с Git</strong>, чтобы читатель понял, как проектировать и развивать подобные системы.</p><p>Современные образовательные системы всё чаще используют цифровые платформы для тестирования знаний учащихся. <strong>EduTest</strong> — учебный проект на стеке <strong>C#</strong>+<strong>Blazor Server</strong>+<strong>MSSQL</strong>, который позволяет:</p><ul><li>создавать и проходить тесты с разными уровнями сложности,</li><li>прикреплять к вопросам изображения и видео,</li><li>назначать тесты ученикам и группам,</li><li>вести аудит действий пользователей,</li><li>гибко управлять ролями: администратор, учитель и ученик.</li></ul><p>Система построена так, что после единого окна входа каждый пользователь видит интерфейс своей роли. Администратор управляет всей платформой, учитель создаёт тесты и следит за результатами, а ученик получает доступ к заданиям и статистике своих попыток.</p><hr><h2 id=архитектура-системы>Архитектура системы</h2><p>Проект построен по слоистой архитектуре:</p><pre tabindex=0><code>┌──────────────────────┐
│        Pages         │  ← UI: Razor Components
└──────────┬───────────┘
           │
┌──────────▼───────────┐
│       Services       │  ← бизнес-логика приложения
└──────────┬───────────┘
           │
┌──────────▼───────────┐
│         Data         │  ← EF Core, DbContext, сущности
└──────────┬───────────┘
           │
┌──────────▼───────────┐
│       MSSQL DB       │  ← хранилище данных
└──────────────────────┘
</code></pre><p>Такое разделение позволяет:</p><ul><li>легко масштабировать проект,</li><li>расширять функциональность,</li><li>добавлять новые поля и таблицы без нарушения логики.</li></ul><hr><h3 id=роли-пользователей>Роли пользователей</h3><p>🛠 <strong>Администратор</strong></p><ul><li>Управляет пользователями (учителя, ученики)</li><li>Настраивает глобальные параметры системы</li><li>Управляет предметами, категориями, сложностями</li><li>Полный доступ к данным и функционалу</li><li>Может добавлять новые таблицы и поля</li><li>Просматривает аудит-логи</li></ul><p>📘 <strong>Учитель</strong></p><ul><li>Создаёт и редактирует тесты</li><li>Загружает изображения и видео к вопросам/ответам</li><li>Управляет предметами и учебными группами</li><li>Назначает тесты ученикам</li><li>Включает таймер (экзаменационный режим), рандомизацию и уровни сложности</li><li>Просматривает результаты учеников</li></ul><p>👨‍🎓 <strong>Ученик</strong></p><ul><li>Проходит тесты, доступные в системе</li><li>Может завершить тест досрочно</li><li>Получает результаты и статистику</li><li>Видит историю попыток</li><li>При желании видит свои ошибки (по настройкам учителя)</li></ul><hr><h2 id=структура-базы-данных-mssql>Структура базы данных MSSQL</h2><h3 id=таблица-users>Таблица Users</h3><table><thead><tr><th>Поле</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>UserId</td><td>INT PK IDENTITY</td><td>Пользователь</td></tr><tr><td>Username</td><td>NVARCHAR(100)</td><td>Логин</td></tr><tr><td>PasswordHash</td><td>VARBINARY(256)</td><td>Хеш пароля</td></tr><tr><td>Role</td><td>NVARCHAR(20)</td><td>Admin / Teacher / Student</td></tr><tr><td>CreatedAt</td><td>DATETIME2</td><td>Дата создания</td></tr></tbody></table><hr><h3 id=таблицы-teachers-и-students>Таблицы Teachers и Students</h3><p><em><strong>Teachers</strong></em></p><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>TeacherId</td><td>INT PK</td></tr><tr><td>UserId</td><td>INT FK</td></tr><tr><td>SubjectId</td><td>INT FK</td></tr><tr><td>IsClassTeacher</td><td>BIT</td></tr></tbody></table><p><em><strong>Students</strong></em></p><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>StudentId</td><td>INT PK</td></tr><tr><td>UserId</td><td>INT FK</td></tr><tr><td>ClassName</td><td>NVARCHAR(50)</td></tr></tbody></table><hr><h3 id=таблица-subjects-и-categories>Таблица Subjects и Categories</h3><table><thead><tr><th>Таблица</th><th>Поля</th></tr></thead><tbody><tr><td>Subjects</td><td>SubjectId, Name</td></tr><tr><td>Categories</td><td>CategoryId, Name</td></tr></tbody></table><hr><h3 id=таблицы-questions-и-answers>Таблицы Questions и Answers</h3><p><em><strong>Questions</strong></em></p><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>QuestionId</td><td>INT PK</td></tr><tr><td>TestId</td><td>INT FK</td></tr><tr><td>Text</td><td>NVARCHAR(MAX)</td></tr><tr><td>ImagePath</td><td>NVARCHAR(300) NULL</td></tr><tr><td>Difficulty</td><td>INT</td></tr><tr><td>CategoryId</td><td>INT FK</td></tr></tbody></table><p><em><strong>Answers</strong></em></p><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>AnswerId</td><td>INT PK</td></tr><tr><td>QuestionId</td><td>INT FK</td></tr><tr><td>Text</td><td>NVARCHAR(MAX)</td></tr><tr><td>ImagePath</td><td>NVARCHAR(300) NULL</td></tr><tr><td>IsCorrect</td><td>BIT</td></tr></tbody></table><hr><h3 id=таблица-tests>Таблица Tests</h3><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>TestId</td><td>INT PK</td></tr><tr><td>TeacherId</td><td>INT FK</td></tr><tr><td>SubjectId</td><td>INT FK</td></tr><tr><td>Title</td><td>NVARCHAR(200)</td></tr><tr><td>Description</td><td>NVARCHAR(MAX)</td></tr><tr><td>QuestionCount</td><td>INT</td></tr><tr><td>PassingScore</td><td>INT</td></tr><tr><td>IsExam</td><td>BIT</td></tr><tr><td>EnableTimeLimit</td><td>BIT</td></tr><tr><td>TimeLimitMinutes</td><td>INT NULL (30–60)</td></tr><tr><td>EnableRandomization</td><td>BIT</td></tr><tr><td>EnableDifficulty</td><td>BIT</td></tr><tr><td>CreatedAt</td><td>DATETIME2</td></tr><tr><td>UpdatedAt</td><td>DATETIME2</td></tr></tbody></table><hr><h3 id=таблица-testassignments>Таблица TestAssignments</h3><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>AssignmentId</td><td>INT PK</td></tr><tr><td>TestId</td><td>INT FK</td></tr><tr><td>GroupId</td><td>INT FK</td></tr><tr><td>AssignedAt</td><td>DATETIME2</td></tr></tbody></table><hr><h3 id=таблица-testattempts>Таблица TestAttempts</h3><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>AttemptId</td><td>INT PK</td></tr><tr><td>AssignmentId</td><td>INT FK</td></tr><tr><td>StudentId</td><td>INT FK</td></tr><tr><td>StartedAt</td><td>DATETIME2</td></tr><tr><td>FinishedAt</td><td>DATETIME2</td></tr><tr><td>FinishedEarly</td><td>BIT</td></tr><tr><td>RemainingSeconds</td><td>INT NULL</td></tr><tr><td>Score</td><td>INT</td></tr><tr><td>CorrectAnswers</td><td>INT</td></tr><tr><td>WrongAnswers</td><td>INT</td></tr></tbody></table><hr><h3 id=таблица-auditlog>Таблица AuditLog</h3><table><thead><tr><th>Поле</th><th>Тип</th></tr></thead><tbody><tr><td>LogId</td><td>INT PK</td></tr><tr><td>UserId</td><td>INT FK</td></tr><tr><td>Action</td><td>NVARCHAR(300)</td></tr><tr><td>Entity</td><td>NVARCHAR(100)</td></tr><tr><td>Timestamp</td><td>DATETIME2</td></tr></tbody></table><hr><h1 id=-структура-проекта-blazor-edutest>💻 Структура проекта Blazor (EduTest)</h1><pre tabindex=0><code>EduTest/
│
├── Data/
│   ├── EduTestDbContext.cs
│   ├── Entities/
│   └── Migrations/
│
├── Services/
│   ├── AuthService.cs
│   ├── UserService.cs
│   ├── TestService.cs
│   ├── QuestionService.cs
│   ├── AssignmentService.cs
│   ├── StudentService.cs
│   └── AuditLogService.cs
│
├── Pages/
│   ├── Login.razor
│   ├── Admin/
│   ├── Teacher/
│   └── Student/
│
├── Components/
│   ├── TimerComponent.razor
│   ├── QuestionCard.razor
│   ├── AnswerOption.razor
│   └── LoadingIndicator.razor
│
├── wwwroot/
│   ├── uploads/
│   ├── css/
│   ├── js/
│   └── images/
│
├── App.razor
├── Program.cs
└── appsettings.json
</code></pre><h3 id=схема-интерфейса-ролей>Схема интерфейса ролей</h3><pre tabindex=0><code>Login.razor
      │
      ├── Admin/     → управление системой
      ├── Teacher/   → тесты, вопросы, группы
      └── Student/   → прохождение тестов
</code></pre><hr><h2 id=работа-с-git-и-ветками>Работа с Git и ветками</h2><h3 id=основные-ветки>Основные ветки</h3><pre tabindex=0><code>master        → стабильные релизы
dev           → основная ветка разработки
feature/*     → новые фичи (feature/auth, feature/tests)
hotfix/*      → экстренные исправления
release/*     → подготовка релизов
</code></pre><hr><h3 id=пример-рабочего-процесса>Пример рабочего процесса</h3><p><strong>1. Разработка новой функции</strong></p><pre tabindex=0><code>git checkout dev
git checkout -b feature/tests
</code></pre><p>Разработка → коммит:</p><pre tabindex=0><code>git add .
git commit -m &#34;Added basic test editor&#34;
</code></pre><p><strong>2. Завершение работы над функцией</strong></p><pre tabindex=0><code>git checkout dev
git merge feature/tests
</code></pre><p><strong>3. Подготовка релиза</strong></p><pre tabindex=0><code>git checkout -b release/v1.0
</code></pre><p><strong>4. Выпуск стабильной версии</strong></p><pre tabindex=0><code>git checkout master
git merge release/v1.0
git tag v1.0
</code></pre><p><strong>5. Экстренный hotfix</strong></p><pre tabindex=0><code>git checkout master
git checkout -b hotfix/login-bug
git add .
git commit -m &#34;Fix NullReferenceException&#34;
git checkout master
git merge hotfix/login-bug
git checkout dev
git merge hotfix/login-bug
</code></pre><hr><h2 id=заключение>Заключение</h2><p>EduTest — современная система тестирования знаний с:</p><ul><li>продуманной архитектурой,</li><li>разграничением ролей,</li><li>расширяемой базой данных,</li><li>гибким Git-workflow,</li><li>единым окном входа.</li></ul><p>Проект подходит как учебный пет-проект и фундамент для реальных образовательных платформ.</p><hr><h3 id=серия-постов>Серия постов</h3><ul><li><a href=https://ghostbasenji.github.io/post/edutest-intro/>EduTest: создаём систему тестирования на Blazor + C# + MSSQL (вводная статья)</a></li><li><a href=https://ghostbasenji.github.io/post/edutest-theory/>EduTest: проектирование и архитектура проекта</a></li></ul></div><div class=post-taxonomies><div class=post-categories><a class=post-category href=/categories/c%23-development/>C# Development
</a><a class=post-category href=/categories/pet-projects/>Pet Projects
</a><a class=post-category href=/categories/blazor/>Blazor
</a><a class=post-category href=/categories/educational-platforms/>Educational Platforms
</a><a class=post-category href=/categories/edutest/>EduTest
</a><a class=post-category href=/categories/c%23/>C#
</a><a class=post-category href=/categories/mssql/>MSSQL
</a><a class=post-category href=/categories/%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0/>Архитектура
</a><a class=post-category href=/categories/.net-backend/>.NET Backend
</a><a class=post-category href=/categories/asp.net-core/>ASP.NET Core
</a><a class=post-category href=/categories/node.js/>Node.js</a></div><div class=post-tags><a class=post-tag href=/tags/blazor-server/>#Blazor Server
</a><a class=post-tag href=/tags/c%23/>#C#
</a><a class=post-tag href=/tags/mssql/>#MSSQL
</a><a class=post-tag href=/tags/ef-core/>#EF Core
</a><a class=post-tag href=/tags/pet-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82/>#Pet-Проект
</a><a class=post-tag href=/tags/git-workflow/>#Git Workflow
</a><a class=post-tag href=/tags/%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B9/>#Тестирование Знаний
</a><a class=post-tag href=/tags/%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BF%D0%BE/>#Разработка ПО
</a><a class=post-tag href=/tags/%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9/>#Архитектура Приложений
</a><a class=post-tag href=/tags/.net-backend/>#.NET Backend
</a><a class=post-tag href=/tags/asp.net-core/>#ASP.NET Core
</a><a class=post-tag href=/tags/node.js/>#Node.js</a></div></div></article></main><aside class=sidebar><div class=sidebar-card><div class=sidebar-top><div class=site-logo><img src=/images/logo.png alt=Logo></div><h1 class=site-title>Ghost Basenji</h1><p class=site-description>Записки начинающего программиста</p><div class=sidebar-social><a href=mailto:petr.and.vic@gmail.com title=Email target=_blank rel=noopener><i class="fas fa-envelope"></i>
</a><a href=https://t.me/ghostbasenji title=Telegram target=_blank rel=noopener><i class="fab fa-telegram-plane"></i>
</a><a href=https://github.com/GhostBasenji title=GitHub target=_blank rel=noopener><i class="fab fa-github"></i></a></div></div><div class=sidebar-divider></div><nav class=site-nav><ul><li><a href=/>Home</a></li><li><a href=/categories/>Категории</a></li><li><a href=/tags/>Теги</a></li><li><a href=/about/>About</a></li></ul></nav></div></aside></div><footer class=site-footer><div class=footer-divider></div><div class=footer-content><div class=footer-line>©Ghost Basenji, 2026</div><div class=footer-line>Сделано на Hugo
<span class=footer-heart>❤</span>
—
тема
<a href=https://github.com/GhostBasenji/notepadium-nova target=_blank rel=noopener>notepadium-nova</a></div></div></footer><button id=scrollTopBtn title="Go to top">↑</button>
<script src=/js/theme-toggle.js></script><script src=/js/scroll-top.js></script></body></html>